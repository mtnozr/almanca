// Translations for TR/DE multilingual interface
const TRANSLATIONS = {
    tr: {
        // App Title
        appTitle: "Almanca-TÃ¼rkÃ§e Kelime Oyunu",
        loading: "YÃ¼kleniyor...",
        
        // Main Menu
        play: "Oyna",
        study: "Kelime Ã‡alÄ±ÅŸ",
        progress: "Ä°lerlemem",
        settings: "Ayarlar",
        
        // Game Modes
        selectGameMode: "Oyun Modu SeÃ§",
        selectLevel: "BÃ¶lÃ¼m SeÃ§",
        level: "BÃ¶lÃ¼m",
        round: "Tur",
        matching: "EÅŸleÅŸtirme",
        matchingDesc: "Kelimeleri eÅŸleÅŸtir",
        memory: "HafÄ±za",
        memoryDesc: "KartlarÄ± hatÄ±rla",
        speed: "HÄ±z Turu",
        speedDesc: "60 saniyede ne kadar kelime?",
        fill: "BoÅŸluk Doldur",
        fillDesc: "Eksik harfleri tamamla",
        listen: "Dinle ve SeÃ§",
        listenDesc: "Sesi dinle, doÄŸru kelimeyi bul",
        
        // Game Screen
        back: "Geri",
        hint: "Ä°pucu",
        sound: "Ses",
        
        // Study Screen
        wordStudy: "Kelime Ã‡alÄ±ÅŸ",
        allCategories: "TÃ¼m Kategoriler",
        colors: "Renkler",
        numbers: "SayÄ±lar",
        days: "GÃ¼nler",
        months: "Aylar",
        seasons: "Mevsimler",
        time: "Zaman",
        animals: "Hayvanlar",
        school: "Okul",
        family: "Aile",
        food: "Yiyecek",
        verbs: "Fiiller",
        body: "VÃ¼cut",
        clothes: "KÄ±yafetler",
        home: "Ev",
        nature: "DoÄŸa",
        city: "Åžehir",
        jobs: "Meslekler",
        transport: "UlaÅŸÄ±m",
        hobbies: "Hobiler",
        adjectives: "SÄ±fatlar",
        questions: "Soru Kelimeleri",
        
        // Progress Screen
        myProgress: "Ä°lerlemem",
        totalWords: "Toplam Kelime",
        correctAnswers: "DoÄŸru Cevaplar",
        accuracy: "DoÄŸruluk",
        difficultWords: "ZorlandÄ±ÄŸÄ±n Kelimeler",
        achievements: "Rozetler",
        
        // Settings Screen
        appearance: "GÃ¶rÃ¼nÃ¼m",
        darkMode: "KaranlÄ±k Mod",
        accessibility: "EriÅŸilebilirlik",
        highContrast: "YÃ¼ksek Kontrast",
        disableAnimations: "AnimasyonlarÄ± Kapat",
        largeText: "BÃ¼yÃ¼k YazÄ±",
        sound: "Ses",
        enableSound: "Ses Efektleri",
        enableSpeech: "Sesli Telaffuz",
        game: "Oyun",
        hintsPerGame: "Oyun BaÅŸÄ±na Ä°pucu",
        data: "Veri",
        resetProgress: "Ä°lerlemeyi SÄ±fÄ±rla",
        exportData: "Verileri DÄ±ÅŸa Aktar",
        
        // Game Over Modal
        gameOver: "Oyun Bitti!",
        finalScore: "Final PuanÄ±:",
        timeSpent: "GeÃ§en SÃ¼re:",
        playAgain: "Tekrar Oyna",
        backToMenu: "Ana MenÃ¼",
        
        // Hint Modal
        close: "Kapat",
        
        // Game Messages
        correct: "DoÄŸru!",
        incorrect: "YanlÄ±ÅŸ!",
        tryAgain: "Tekrar dene!",
        greatJob: "Harika iÅŸ!",
        keepGoing: "Devam et!",
        timeUp: "SÃ¼re doldu!",
        gameComplete: "Oyun tamamlandÄ±!",
        
        // Hints
        hintArticle: "Bu kelimenin artikeli:",
        hintCategory: "Bu kelime kategorisi:",
        hintFirstLetter: "Ä°lk harf:",
        hintLastLetter: "Son harf:",
        hintLength: "Bu kelime {length} harfli",
        hintSound: "Sesi dinle ve tekrarla",
        
        // Achievements
        firstWord: "Ä°lk Kelime",
        firstWordDesc: "Ä°lk kelimeyi Ã¶ÄŸrendin!",
        speedster: "HÄ±z UstasÄ±",
        speedsterDesc: "60 saniyede 10 kelime!",
        perfectScore: "MÃ¼kemmel Skor",
        perfectScoreDesc: "TÃ¼m sorularÄ± doÄŸru yanÄ±tladÄ±n!",
        wordMaster: "Kelime UstasÄ±",
        wordMasterDesc: "100 kelime Ã¶ÄŸrendin!",
        streakMaster: "Seri UstasÄ±",
        streakMasterDesc: "10 doÄŸru cevap serisi!",
        dailyLearner: "GÃ¼nlÃ¼k Ã–ÄŸrenci",
        dailyLearnerDesc: "7 gÃ¼n Ã¼st Ã¼ste Ã§alÄ±ÅŸtÄ±n!",
        
        // Categories
        categoryColors: "Renkler",
        categoryNumbers: "SayÄ±lar",
        categoryDays: "GÃ¼nler",
        categoryMonths: "Aylar",
        categorySeasons: "Mevsimler",
        categoryTime: "Zaman",
        categoryAnimals: "Hayvanlar",
        categorySchool: "Okul",
        categoryFamily: "Aile",
        categoryFood: "Yiyecek",
        categoryVerbs: "Fiiller",
        categoryBody: "VÃ¼cut",
        categoryClothes: "KÄ±yafetler",
        categoryHome: "Ev",
        categoryNature: "DoÄŸa",
        categoryCity: "Åžehir",
        categoryJobs: "Meslekler",
        categoryTransport: "UlaÅŸÄ±m",
        categoryHobbies: "Hobiler",
        categoryAdjectives: "SÄ±fatlar",
        categoryQuestions: "Soru Kelimeleri",
        
        // Errors
        errorNoSpeech: "Sesli telaffuz desteklenmiyor",
        errorNoWords: "Bu kategoride kelime bulunamadÄ±",
        errorLoading: "YÃ¼kleme hatasÄ±",
        errorSave: "Kaydetme hatasÄ±",
        
        // Confirmations
        confirmReset: "TÃ¼m ilerlemeni sÄ±fÄ±rlamak istediÄŸinden emin misin?",
        confirmExport: "Verilerini dÄ±ÅŸa aktarmak istiyor musun?",
        
        // Success Messages
        dataExported: "Veriler baÅŸarÄ±yla dÄ±ÅŸa aktarÄ±ldÄ±",
        progressSaved: "Ä°lerleme kaydedildi",
        settingsSaved: "Ayarlar kaydedildi"
    },
    
    de: {
        // App Title
        appTitle: "Deutsch-TÃ¼rkisch Wortspiel",
        loading: "LÃ¤dt...",
        
        // Main Menu
        play: "Spielen",
        study: "WÃ¶rter lernen",
        progress: "Mein Fortschritt",
        settings: "Einstellungen",
        
        // Game Modes
        selectGameMode: "Spielmodus wÃ¤hlen",
        matching: "Zuordnung",
        matchingDesc: "WÃ¶rter zuordnen",
        memory: "GedÃ¤chtnis",
        memoryDesc: "Karten merken",
        speed: "Schnellrunde",
        speedDesc: "Wie viele WÃ¶rter in 60 Sekunden?",
        fill: "LÃ¼cken fÃ¼llen",
        fillDesc: "Fehlende Buchstaben ergÃ¤nzen",
        listen: "HÃ¶ren und wÃ¤hlen",
        listenDesc: "HÃ¶re zu und finde das richtige Wort",
        
        // Game Screen
        back: "ZurÃ¼ck",
        hint: "Tipp",
        sound: "Ton",
        
        // Study Screen
        wordStudy: "WÃ¶rter lernen",
        allCategories: "Alle Kategorien",
        colors: "Farben",
        numbers: "Zahlen",
        days: "Tage",
        months: "Monate",
        seasons: "Jahreszeiten",
        time: "Zeit",
        animals: "Tiere",
        school: "Schule",
        family: "Familie",
        food: "Essen",
        verbs: "Verben",
        body: "KÃ¶rper",
        clothes: "Kleidung",
        home: "Zuhause",
        nature: "Natur",
        city: "Stadt",
        jobs: "Berufe",
        transport: "Verkehr",
        hobbies: "Hobbys",
        adjectives: "Adjektive",
        questions: "FragewÃ¶rter",
        
        // Progress Screen
        myProgress: "Mein Fortschritt",
        totalWords: "Gesamte WÃ¶rter",
        correctAnswers: "Richtige Antworten",
        accuracy: "Genauigkeit",
        difficultWords: "Schwierige WÃ¶rter",
        achievements: "Abzeichen",
        
        // Settings Screen
        appearance: "Aussehen",
        darkMode: "Dunkelmodus",
        accessibility: "Barrierefreiheit",
        highContrast: "Hoher Kontrast",
        disableAnimations: "Animationen deaktivieren",
        largeText: "GroÃŸe Schrift",
        sound: "Ton",
        enableSound: "Soundeffekte",
        enableSpeech: "Sprachausgabe",
        game: "Spiel",
        hintsPerGame: "Tipps pro Spiel",
        data: "Daten",
        resetProgress: "Fortschritt zurÃ¼cksetzen",
        exportData: "Daten exportieren",
        
        // Game Over Modal
        gameOver: "Spiel beendet!",
        finalScore: "Endpunktzahl:",
        timeSpent: "Verbrachte Zeit:",
        playAgain: "Nochmal spielen",
        backToMenu: "HauptmenÃ¼",
        
        // Hint Modal
        close: "SchlieÃŸen",
        
        // Game Messages
        correct: "Richtig!",
        incorrect: "Falsch!",
        tryAgain: "Versuche es nochmal!",
        greatJob: "GroÃŸartige Arbeit!",
        keepGoing: "Weiter so!",
        timeUp: "Zeit ist um!",
        gameComplete: "Spiel beendet!",
        
        // Hints
        hintArticle: "Der Artikel dieses Wortes ist:",
        hintCategory: "Diese Wortkategorie ist:",
        hintFirstLetter: "Erster Buchstabe:",
        hintLastLetter: "Letzter Buchstabe:",
        hintLength: "Dieses Wort hat {length} Buchstaben",
        hintSound: "HÃ¶re zu und wiederhole",
        
        // Achievements
        firstWord: "Erstes Wort",
        firstWordDesc: "Du hast dein erstes Wort gelernt!",
        speedster: "Geschwindigkeitsmeister",
        speedsterDesc: "10 WÃ¶rter in 60 Sekunden!",
        perfectScore: "Perfekte Punktzahl",
        perfectScoreDesc: "Alle Fragen richtig beantwortet!",
        wordMaster: "Wortmeister",
        wordMasterDesc: "100 WÃ¶rter gelernt!",
        streakMaster: "Serienmeister",
        streakMasterDesc: "10 richtige Antworten in Folge!",
        dailyLearner: "TÃ¤glicher Lerner",
        dailyLearnerDesc: "7 Tage in Folge gelernt!",
        
        // Categories
        categoryColors: "Farben",
        categoryNumbers: "Zahlen",
        categoryDays: "Tage",
        categoryMonths: "Monate",
        categorySeasons: "Jahreszeiten",
        categoryTime: "Zeit",
        categoryAnimals: "Tiere",
        categorySchool: "Schule",
        categoryFamily: "Familie",
        categoryFood: "Essen",
        categoryVerbs: "Verben",
        categoryBody: "KÃ¶rper",
        categoryClothes: "Kleidung",
        categoryHome: "Zuhause",
        categoryNature: "Natur",
        categoryCity: "Stadt",
        categoryJobs: "Berufe",
        categoryTransport: "Verkehr",
        categoryHobbies: "Hobbys",
        categoryAdjectives: "Adjektive",
        categoryQuestions: "FragewÃ¶rter",
        
        // Errors
        errorNoSpeech: "Sprachausgabe wird nicht unterstÃ¼tzt",
        errorNoWords: "Keine WÃ¶rter in dieser Kategorie gefunden",
        errorLoading: "Ladefehler",
        errorSave: "Speicherfehler",
        
        // Confirmations
        confirmReset: "Bist du sicher, dass du deinen gesamten Fortschritt zurÃ¼cksetzen mÃ¶chtest?",
        confirmExport: "MÃ¶chtest du deine Daten exportieren?",
        
        // Success Messages
        dataExported: "Daten erfolgreich exportiert",
        progressSaved: "Fortschritt gespeichert",
        settingsSaved: "Einstellungen gespeichert"
    }
};

// Current language
let currentLanguage = 'tr';

// Get translation
const t = (key, params = {}) => {
    let translation = TRANSLATIONS[currentLanguage][key] || TRANSLATIONS.tr[key] || key;
    
    // Replace parameters
    Object.keys(params).forEach(param => {
        translation = translation.replace(`{${param}}`, params[param]);
    });
    
    return translation;
};

// Set language
const setLanguage = (lang) => {
    if (TRANSLATIONS[lang]) {
        currentLanguage = lang;
        updateAllTexts();
    }
};

// Update all texts in the UI
const updateAllTexts = () => {
    const elements = document.querySelectorAll('[data-text]');
    elements.forEach(element => {
        const key = element.getAttribute('data-text');
        const text = t(key);
        if (element.tagName === 'INPUT' && element.type === 'placeholder') {
            element.placeholder = text;
        } else {
            element.textContent = text;
        }
    });
    
    // Update document title
    document.title = t('appTitle');
    
    // Update html lang attribute
    document.documentElement.lang = currentLanguage;
};

// Toggle language
const toggleLanguage = () => {
    const newLang = currentLanguage === 'tr' ? 'de' : 'tr';
    setLanguage(newLang);
    
    // Update language toggle button
    const toggleBtn = document.getElementById('language-toggle');
    if (toggleBtn) {
        const flagSpan = toggleBtn.querySelector('.flag');
        flagSpan.textContent = newLang === 'tr' ? 'ðŸ‡¹ðŸ‡·' : 'ðŸ‡©ðŸ‡ª';
    }
};

// Export for use in other modules
if (typeof module !== 'undefined' && module.exports) {
    module.exports = {
        TRANSLATIONS,
        t,
        setLanguage,
        updateAllTexts,
        toggleLanguage,
        currentLanguage
    };
}